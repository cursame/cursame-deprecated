function download(a){return a=="PNG"?$.pnotify({pnotify_notice_icon:"",pnotify_delay:3e3,pnotify_history:!1,pnotify_title:"Downloading icon in PNG format",pnotify_text:"Remember to check license information before using downloaded icons."}):$.pnotify({pnotify_notice_icon:"",pnotify_delay:3e3,pnotify_history:!1,pnotify_title:"Downloading icon in ICO format",pnotify_text:"Remember to check license information before using downloaded icons."}),_gaq.push(["_trackEvent","Download",a]),!1}function sfocus(){return $("#inputField").focus(),!1}function handleKey(a){var b=37,c=39;if(a.target.localName=="body"||a.target.localName=="html")if(!a.ctrlKey&&!a.altKey&&!a.shiftKey&&!a.metaKey){var d=a.which;d==b?prevPage():d==c&&nextPage()}}function prevPage(){var a=$(".pageslist .prev").attr("href");a&&a!=document.location&&(document.location=a)}function nextPage(){var a=$(".pageslist .next").attr("href");a&&a!=document.location&&(document.location=a)}function loadJsResults(){function a(a){return $("body").find(".icon").removeClass("white"),$("body").find(".icon").removeClass("gray"),$("body").find(".icon").removeClass("black"),$("body").find(".icon").addClass(a),val=a,name="bgcolor",$.get("/ajax/cookie/",{name:name,val:val},function(a){return!1}),_gaq.push(["_trackEvent","Settings","Change color",val]),val=null,name=null,a=null,!1}return $("#dropmenu").click(function(){showmenu()}),$(".attribution").click(function(){showReadme(this)}),$("#inputField").click(function(){return sfocus(),!1}),$(".numberchoose").click(function(){return $(".numberchoose").removeClass("numberselected"),$(this).addClass("numberselected"),updatenumber(),!1}),$(".colorchoose").click(function(){return $(".colorchoose").removeClass("colorselected"),$(this).addClass("colorselected"),a($(this).attr("id")),!1}),$("#licensefilter").change(function(){return updatefilter(),!1}),$(".designer").click(function(){return $(".designer").removeClass("slidedDown"),$(".packagelist").hide(),$(this).siblings("ul:first").show(),$(this).siblings("ul:first").addClass("slidedDown"),$(this).addClass("slidedDown"),!1}),$(".vote").click(function(){return $(this).parent().parent().parent().parent().slideUp("fast"),id=$(this).siblings(".iconid").val(),voted=$(this).val(),$.get("/ajax/votetags/",{id:id,voted:voted},function(a){return!1}),!1}),update=0,loadinfo(),$("#custom").submit(function(){return form_name=$(this).find("#form_name").val(),form_email=$(this).find("#form_email").val(),form_description=$(this).find("#form_description").val(),$(this).html("&nbsp;"),$(this).parent().addClass("loading"),$.post("/ajax/submitform/",{form_name:form_name,form_email:form_email,form_description:form_description},function(a){return $("#submitformwrapper").parent().removeClass("loading"),$("#submitformwrapper").parent().html(a),!1}),!1}),$("a.external").click(function(){return _gaq.push(["_trackEvent","Links","External",$(this).attr("href")]),!0}),initstars(),$("#logout").click(function(){$.get("/ajax/logout/",{logout:1},function(a){window.location.reload(!0)})}),$(".largersize").hover(function(){id=$(this).attr("id").replace(/largersize-/,""),obj=$("#hiddenicon-"+id),obj.show()},function(){obj.hide()}),$(".bookmark").bind("click",function(){return $.cookie("username")==null?window.location.replace("/user/signup"):($.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Bookmark updated",pnotify_text:"You can find bookmkarked icons under My account."}),id=$(this).attr("id").replace(/bookmark-/,""),hiddensize=$("#size-"+id).val(),icon=$("#icon-"+id),$("#icon-"+id).hasClass("bookmarked")||icon.effect("highlight",{},1e3),icon.toggleClass("bookmarked"),$.get("/ajax/bookmark/",{id:id,size:hiddensize},function(a){a!="delete"})),!1}),!1}function loadinfo(){return document.onclick=hideallinfo,$(".infolink").click(function(){return id=$(this).attr("id").replace(/infolink-/,""),obj=$("#icon-"+id),$("#infomenu-"+id).html("Please wait"),showinfo(id),!1}),!1}function showinfo(a){return canceltimerinfo(),hideinfo($(document).find(".infomenu")),infomenu=$("#infomenu-"+a),$("#infolink-"+a).addClass("selected"),infomenu.css("display","block"),infomenu.addClass("loading"),hiddensize=$("#size-"+a).val(),$.get("/ajax/infomenu/",{id:a,size:hiddensize},function(b){infomenu.html(b),infomenu.removeClass("loading"),_gaq.push(["_trackEvent","Info menu","Show info",a])}),obj=null,a=null,hiddensize=null,!1}function timerinfo(a){return closetimer=window.setTimeout(hideallinfo,timeout),!1}function hideallinfo(){tagsedited==0&&hideinfo($(document).find(".infomenu")),hidemenu()}function hideinfo(a){a.siblings(".infolink").removeClass("selected"),a.fadeOut("fast")}function canceltimerinfo(){return closetimer&&(window.clearTimeout(closetimer),closetimer=null),!1}function showmenu(){$("#menu-content").fadeIn(),setTimeout(function(){menushown=1},800)}function hidemenu(){menushown==1&&($("#menu-content").fadeOut(),menushown=0)}function showTaginfo(a,b){$("#tagmenu-"+a).show(),tagmenu=$("#innertag-"+a),tagmenu.addClass("loading");var c=$(window).height(),d=$(window).width();return $("#tagmenu-"+a).css("top",c/2-tagmenu.height()/2),$("#tagmenu-"+a).css("left",d/2-tagmenu.width()/2),tagmenu.show(),$.get("/ajax/tagmenu/",{id:a,size:b},function(a){tagmenu.html(a),tagmenu.removeClass("loading")}),!1}function tagsubmit(a,b){var c=$("#n"+a).val(),d=a,b=b;return tagmenu=$("#innertag-"+a),tagmenu.addClass("loading"),tagmenu.html("Submitting tags"),$.get("/ajax/savetags/",{iconid:d,size:b,n:c},function(a){return $.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Saving tags",pnotify_text:"Changes in tags will be reviewed."}),tagsedited=0,tagmenu.html(a),tagmenu.removeClass("loading"),tagcancel(),!1}),!1}function tagcancel(){return $(document).find(".tagmenu").hide(),tagsedited=0,!1}function rate(a,b,c){return i=0,$(".star").each(function(){i<b&&$(this).addClass("clicked"),i++}),$.get("/ajax/rate/",{iconid:a,value:b},function(b){return $.pnotify({pnotify_notice_icon:"",pnotify_delay:2e3,pnotify_history:!1,pnotify_title:"Rating updated",pnotify_text:"Thank you for voting."}),$("#checkmark-"+a).css("display","inline"),!1}),_gaq.push(["_trackEvent","Icon details","Rate",b]),!1}function initstars(){$(".star").hover(function(){return $(this).addClass("hover"),$(this).prevALL(".star").addClass("hover"),!1},function(){return $(this).removeClass("hover"),$(this).prevALL(".star").removeClass("hover"),!1}),$.fn.reverse=function(){return this.pushStack(this.get().reverse(),arguments)},$.each(["prev","next"],function(a,b){$.fn[b+"ALL"]=function(a){var c=$("body").find("*").andSelf();return c=b=="prev"?c.slice(0,c.index(this)).reverse():c.slice(c.index(this)+1),a&&(c=c.filter(a)),c}})}function updatenumber(){return val=$(".numberselected").attr("id").replace("n",""),name="numberofresults",$.get("/ajax/cookie/",{name:name,val:val},function(a){updatesearch()}),_gaq.push(["_trackEvent","Settings","Change number",val]),val=null,name=null,!1}function updatefilter(){return val=$("#licensefilter").val(),$.get("/ajax/cookie/",{name:"licensefilter",val:val},function(a){updatesearch()}),_gaq.push(["_trackEvent","Settings","Change filter",val]),val=null,name=null,!1}jQuery.cookie=function(a,b,c){if(arguments.length>1&&String(b)!=="[object Object]"){c=jQuery.extend({},c);if(b===null||b===undefined)c.expires=-1;if(typeof c.expires=="number"){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?g(f[1]):null},$(".ui-button").button(),$(document).keydown(handleKey);var timeout=0,closetimer=0,ddmenuitem=0,menushown=0,tagsedited=0,useBSNns;useBSNns?(typeof bsn=="undefined"&&(bsn={}),_bsn=bsn):_bsn=this,typeof _bsn.Autosuggest=="undefined"&&(_bsn.Autosuggest={}),_bsn.AutoSuggest=function(a,b){if(!document.getElementById)return!1;this.fld=_bsn.DOM.getElement(a);if(!this.fld)return!1;this.sInput="",this.nInputChars=0,this.aSuggestions=[],this.iHighlighted=0,this.oP=b?b:{},this.oP.minchars||(this.oP.minchars=2),this.oP.method||(this.oP.meth="get"),this.oP.varname||(this.oP.varname="input"),this.oP.className||(this.oP.className="autosuggest"),this.oP.timeout||(this.oP.timeout=3e3),this.oP.delay||(this.oP.delay=0),this.oP.offsety||(this.oP.offsety=0),this.oP.shownoresults||(this.oP.shownoresults=!1),this.oP.noresults||(this.oP.noresults="Sorry, no tags match"),!this.oP.maxheight&&this.oP.maxheight!==0&&(this.oP.maxheight=12),!this.oP.cache&&this.oP.cache!=0&&(this.oP.cache=!0);var c=this;this.fld.onkeypress=function(a){return c.onKeyPress(a)},this.fld.onkeyup=function(a){return c.onKeyUp(a)},this.fld.setAttribute("autocomplete","off")},_bsn.AutoSuggest.prototype.onKeyPress=function(a){var b=window.event?window.event.keyCode:a.keyCode,c=13,d=9,e=27,f=!0;switch(b){case c:this.setHighlightedValue(),f=!1,document.getElementById("searchform").submit();break;case e:this.clearSuggestions()}return f},_bsn.AutoSuggest.prototype.onKeyUp=function(a){var b=window.event?window.event.keyCode:a.keyCode,c=38,d=40,e=!0;switch(b){case c:this.changeHighlight(b),e=!1;break;case d:this.changeHighlight(b),e=!1;break;default:this.getSuggestions(this.fld.value)}return e},_bsn.AutoSuggest.prototype.getSuggestions=function(a){if(a==this.sInput)return!1;if(a.length<this.oP.minchars)return this.sInput="",!1;if(a.length>this.nInputChars&&this.aSuggestions.length&&this.oP.cache){var b=[];for(var c=0;c<this.aSuggestions.length;c++)this.aSuggestions[c].value.substr(0,a.length).toLowerCase()==a.toLowerCase()&&b.push(this.aSuggestions[c]);return this.sInput=a,this.nInputChars=a.length,this.aSuggestions=b,this.createList(this.aSuggestions),!1}this.sInput=a,this.nInputChars=a.length;var d=this;return clearTimeout(this.ajID),this.ajID=setTimeout(function(){d.doAjaxRequest()},this.oP.delay),!1},_bsn.AutoSuggest.prototype.doAjaxRequest=function(){var a=this,b=this.oP.script+this.oP.varname+"="+escape(this.fld.value),c=this.oP.meth,d=function(b){a.setSuggestions(b)},e=function(a){},f=new _bsn.Ajax;f.makeRequest(b,c,d,e)},_bsn.AutoSuggest.prototype.setSuggestions=function(req){this.aSuggestions=[];if(this.oP.json){var jsondata=eval("("+req.responseText+")");for(var i=0;i<jsondata.results.length;i++)this.aSuggestions.push({id:jsondata.results[i].id,value:jsondata.results[i].value,info:jsondata.results[i].info})}else{var xml=req.responseXML;try{var results=xml.getElementsByTagName("results")[0].childNodes;for(var i=0;i<results.length;i++)results[i].hasChildNodes()&&this.aSuggestions.push({id:results[i].getAttribute("id"),value:results[i].childNodes[0].nodeValue,info:results[i].getAttribute("info")})}catch(err){}}this.idAs="as_"+this.fld.id,this.createList(this.aSuggestions)},_bsn.AutoSuggest.prototype.createList=function(a){var b=this;_bsn.DOM.removeElement(this.idAs),this.killTimeout();var c=_bsn.DOM.createElement("div",{id:this.idAs,className:this.oP.className}),d=_bsn.DOM.createElement("div",{className:"as_corner"}),e=_bsn.DOM.createElement("div",{className:"as_bar"}),f=_bsn.DOM.createElement("div",{className:"as_header"});f.appendChild(d),f.appendChild(e),c.appendChild(f);var g=_bsn.DOM.createElement("ul",{id:"as_ul"}),h;a.length>this.oP.maxheight?h=this.oP.maxheight:h=a.length;for(var i=0;i<h;i++){var j=a[i].value,k=j.toLowerCase().indexOf(this.sInput.toLowerCase()),l=j.substring(0,k)+"<em>"+j.substring(k,k+this.sInput.length)+"</em>"+j.substring(k+this.sInput.length),m=_bsn.DOM.createElement("span",{},l,!0);if(a[i].info!=""){var n=_bsn.DOM.createElement("br",{});m.appendChild(n);var o=_bsn.DOM.createElement("small",{},a[i].info);m.appendChild(o)}var p=_bsn.DOM.createElement("a",{href:"#"}),q=_bsn.DOM.createElement("span",{className:"tl"}," "),r=_bsn.DOM.createElement("span",{className:"tr"}," ");p.appendChild(q),p.appendChild(r),p.appendChild(m),p.name=i+1,p.onclick=function(){return b.setHighlightedValue(),!1},p.onmouseover=function(){b.setHighlight(this.name)};var s=_bsn.DOM.createElement("li",{},p);g.appendChild(s)}if(a.length==0){var s=_bsn.DOM.createElement("li",{className:"as_warning"},this.oP.noresults);g.appendChild(s)}c.appendChild(g);var t=_bsn.DOM.createElement("div",{className:"as_corner"}),u=_bsn.DOM.createElement("div",{className:"as_bar"}),v=_bsn.DOM.createElement("div",{className:"as_footer"});v.appendChild(t),v.appendChild(u),c.appendChild(v);var w=_bsn.DOM.getPos(this.fld);c.style.left=w.x+"px",c.style.top=w.y+this.fld.offsetHeight+this.oP.offsety+"px",c.style.width=this.fld.offsetWidth+"px",c.onmouseover=function(){b.killTimeout()},c.onmouseout=function(){b.resetTimeout()},document.getElementsByTagName("body")[0].appendChild(c),this.iHighlighted=0;var b=this;this.toID=setTimeout(function(){b.clearSuggestions()},this.oP.timeout)},_bsn.AutoSuggest.prototype.changeHighlight=function(a){var b=_bsn.DOM.getElement("as_ul");if(!b)return!1;var c;a==40?c=this.iHighlighted+1:a==38&&(c=this.iHighlighted-1),c>b.childNodes.length&&(c=b.childNodes.length),c<1&&(c=1),this.setHighlight(c)},_bsn.AutoSuggest.prototype.setHighlight=function(a){var b=_bsn.DOM.getElement("as_ul");if(!b)return!1;this.iHighlighted>0&&this.clearHighlight(),this.iHighlighted=Number(a),b.childNodes[this.iHighlighted-1].className="as_highlight",this.killTimeout()},_bsn.AutoSuggest.prototype.clearHighlight=function(){var a=_bsn.DOM.getElement("as_ul");if(!a)return!1;this.iHighlighted>0&&(a.childNodes[this.iHighlighted-1].className="",this.iHighlighted=0)},_bsn.AutoSuggest.prototype.setHighlightedValue=function(){this.iHighlighted&&(this.sInput=this.fld.value=this.aSuggestions[this.iHighlighted-1].value,this.fld.focus(),this.fld.selectionStart&&this.fld.setSelectionRange(this.sInput.length,this.sInput.length),this.clearSuggestions(),typeof this.oP.callback=="function"&&this.oP.callback(this.aSuggestions[this.iHighlighted-1]))},_bsn.AutoSuggest.prototype.killTimeout=function(){clearTimeout(this.toID)},_bsn.AutoSuggest.prototype.resetTimeout=function(){clearTimeout(this.toID);var a=this;this.toID=setTimeout(function(){a.clearSuggestions()},1e3)},_bsn.AutoSuggest.prototype.clearSuggestions=function(){this.killTimeout();var a=_bsn.DOM.getElement(this.idAs),b=this;if(a)var c=new _bsn.Fader(a,1,0,250,function(){_bsn.DOM.removeElement(b.idAs)})},typeof _bsn.Ajax=="undefined"&&(_bsn.Ajax={}),_bsn.Ajax=function(){this.req={},this.isIE=!1},_bsn.Ajax.prototype.makeRequest=function(a,b,c,d){b!="POST"&&(b="GET"),this.onComplete=c,this.onError=d;var e=this;window.XMLHttpRequest?(this.req=new XMLHttpRequest,this.req.onreadystatechange=function(){e.processReqChange()},this.req.open("GET",a,!0),this.req.send(null)):window.ActiveXObject&&(this.req=new ActiveXObject("Microsoft.XMLHTTP"),this.req&&(this.req.onreadystatechange=function(){e.processReqChange()},this.req.open(b,a,!0),this.req.send()))},_bsn.Ajax.prototype.processReqChange=function(){this.req.readyState==4&&(this.req.status==200?this.onComplete(this.req):this.onError(this.req.status))},typeof _bsn.DOM=="undefined"&&(_bsn.DOM={}),_bsn.DOM.createElement=function(a,b,c,d){var e=document.createElement(a);if(!e)return!1;for(var f in b)e[f]=b[f];return typeof c=="string"&&!d?e.appendChild(document.createTextNode(c)):typeof c=="string"&&d?e.innerHTML=c:typeof c=="object"&&e.appendChild(c),e},_bsn.DOM.clearElement=function(a){var b=this.getElement(a);if(!b)return!1;while(b.childNodes.length)b.removeChild(b.childNodes[0]);return!0},_bsn.DOM.removeElement=function(a){var b=this.getElement(a);return b?b.parentNode.removeChild(b)?!0:!1:!1},_bsn.DOM.replaceContent=function(a,b,c){var d=this.getElement(a);if(!d)return!1;this.clearElement(d),typeof b=="string"&&!c?d.appendChild(document.createTextNode(b)):typeof b=="string"&&c?d.innerHTML=b:typeof b=="object"&&d.appendChild(b)},_bsn.DOM.getElement=function(a){if(typeof a=="undefined")return!1;if(typeof a=="string"){var b=document.getElementById(a);return b?typeof b.appendChild!="undefined"?b:!1:!1}return typeof a.appendChild!="undefined"?a:!1},_bsn.DOM.appendChildren=function(a,b){var c=this.getElement(a);if(!c)return!1;if(typeof b!="object")return!1;for(var d=0;d<b.length;d++){var e=b[d];typeof e=="string"?c.appendChild(document.createTextNode(e)):typeof e=="object"&&c.appendChild(e)}},_bsn.DOM.getPos=function(a){var a=this.getElement(a),b=a,c=0;if(b.offsetParent)while(b.offsetParent)c+=b.offsetLeft,b=b.offsetParent;else b.x&&(c+=b.x);var b=a,d=0;if(b.offsetParent)while(b.offsetParent)d+=b.offsetTop,b=b.offsetParent;else b.y&&(d+=b.y);return{x:c,y:d}},typeof _bsn.Fader=="undefined"&&(_bsn.Fader={}),_bsn.Fader=function(a,b,c,d,e){if(!a)return!1;this.ele=a,this.from=b,this.to=c,this.callback=e,this.nDur=d,this.nInt=50,this.nTime=0;var f=this;this.nID=setInterval(function(){f._fade()},this.nInt)},_bsn.Fader.prototype._fade=function(){this.nTime+=this.nInt;var a=Math.round(this._tween(this.nTime,this.from,this.to,this.nDur)*100),b=a/100;if(this.ele.filters)try{this.ele.filters.item("DXImageTransform.Microsoft.Alpha").opacity=a}catch(c){this.ele.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+a+")"}else this.ele.style.opacity=b;this.nTime==this.nDur&&(clearInterval(this.nID),this.callback!=undefined&&this.callback())},_bsn.Fader.prototype._tween=function(a,b,c,d){return b+(c-b)*(a/d)},jQuery.fn.selectToUISlider=function(a){function g(a){return a.constructor==Array}function h(a){return c.tooltipSrc=="text"?e[a].text:e[a].value}function m(a){return(a/(e.length-1)*100).toFixed(2)+"%"}var b=jQuery(this),c=jQuery.extend({labels:3,tooltip:!0,tooltipSrc:"text",labelSrc:"value",sliderOptions:null},a),d=function(){var a=[];return b.each(function(){a.push("handle_"+jQuery(this).attr("id"))}),a}(),e=function(){var a=[];return b.eq(0).find("option").each(function(){a.push({value:jQuery(this).attr("value"),text:jQuery(this).text()})}),a}(),f=function(){if(b.eq(0).find("optgroup").size()>0){var a=[];return b.eq(0).find("optgroup").each(function(b){a[b]={},a[b].label=jQuery(this).attr("label"),a[b].options=[],jQuery(this).find("option").each(function(){a[b].options.push({text:jQuery(this).text(),value:jQuery(this).attr("value")})})}),a}return null}(),i={step:1,min:0,orientation:"horizontal",max:e.length-1,range:b.length>1,slide:function(a,b){var c=jQuery(b.handle),d=h(b.value);c.attr("aria-valuetext",d).attr("aria-valuenow",b.value).find(".ui-slider-tooltip .ttContent").text(d);var e=jQuery("#"+c.attr("id").split("handle_")[1]);e.find("option").eq(b.value).attr("selected","selected"),$("#min-disp").val($("#valueA").val()+" px"),$("#max-disp").val($("#valueB").val()+" px")},stop:function(a,b){var c=$("#valueA").val(),d=$("#valueB").val();$.get("/ajax/cookie/",{name:"minimum",val:c},function(a){return!1}),$.get("/ajax/cookie/",{name:"maximum",val:d},function(a){return updatesearch(),!1})},values:function(){var a=[];return b.each(function(){a.push(jQuery(this).get(0).selectedIndex)}),a}()};c.sliderOptions=a?jQuery.extend(i,a.sliderOptions):i,b.bind("change keyup click",function(){var a=jQuery(this).get(0).selectedIndex,b=jQuery("#handle_"+jQuery(this).attr("id")),c=b.data("handleNum");b.parents(".ui-slider:eq(0)").slider("values",c,a)});var j=jQuery("<div></div>");b.each(function(a){var b="",e=jQuery("label[for="+jQuery(this).attr("id")+"]"),f=e.size()>0?"Slider control for "+e.text()+"":"",g=e.attr("id")||e.attr("id","label_"+d[a]).attr("id");c.tooltip==0&&(b=' style="display: none;"'),jQuery('<a href="#" tabindex="0" id="'+d[a]+'" '+'class="ui-slider-handle" '+'role="slider" '+'aria-labelledby="'+g+'" '+'aria-valuemin="'+c.sliderOptions.min+'" '+'aria-valuemax="'+c.sliderOptions.max+'" '+'aria-valuenow="'+c.sliderOptions.values[a]+'" '+'aria-valuetext="'+h(c.sliderOptions.values[a])+'" '+'><span class="screenReaderContext">'+f+"</span>"+'<span class="ui-slider-tooltip ui-widget-content ui-corner-all"'+b+'><span class="ttContent"></span>'+'<span class="ui-tooltip-pointer-down ui-widget-content"><span class="ui-tooltip-pointer-down-inner"></span></span>'+"</span></a>").data("handleNum",a).appendTo(j)});if(f){var k=0,l=j.append('<dl class="ui-slider-scale ui-helper-reset" role="presentation"></dl>').find(".ui-slider-scale:eq(0)");jQuery(f).each(function(a){l.append('<dt style="width: '+(100/f.length).toFixed(2)+"%"+"; left:"+(a/(f.length-1)*100).toFixed(2)+"%"+'"><span>'+this.label+"</span></dt>");var b=this.options;jQuery(this.options).each(function(a){var d=k==e.length-1||k==0?'style="display: none;"':"",f=c.labelSrc=="text"?b[a].text:b[a].value;l.append('<dd style="left:'+m(k)+'"><span class="ui-slider-label">'+f+'</span><span class="ui-slider-tic ui-widget-content"'+d+"></span></dd>"),k++})})}else{var l=j.append('<ol class="ui-slider-scale ui-helper-reset" role="presentation"></ol>').find(".ui-slider-scale:eq(0)");jQuery(e).each(function(a){var b=a==e.length-1||a==0?'style="display: none;"':"",d=c.labelSrc=="text"?this.text:this.value;l.append('<li style="left:'+m(a)+'"><span class="ui-slider-label">'+d+'</span><span class="ui-slider-tic ui-widget-content"'+b+"></span></li>")})}c.labels>1&&j.find(".ui-slider-scale li:last span.ui-slider-label, .ui-slider-scale dd:last span.ui-slider-label").addClass("ui-slider-label-show");var n=Math.max(1,Math.round(e.length/c.labels));for(var o=0;o<e.length;o+=n)e.length-o>n&&j.find(".ui-slider-scale li:eq("+o+") span.ui-slider-label, .ui-slider-scale dd:eq("+o+") span.ui-slider-label").addClass("ui-slider-label-show");j.find(".ui-slider-scale dt").each(function(a){jQuery(this).css({left:(100/f.length*a).toFixed(2)+"%"})}),j.insertAfter(jQuery(this).eq(this.length-1)).slider(c.sliderOptions).attr("role","application").find(".ui-slider-label").each(function(){jQuery(this).css("marginLeft",-jQuery(this).width()/2)}),j.find(".ui-tooltip-pointer-down-inner").each(function(){var a=jQuery(".ui-tooltip-pointer-down-inner").css("borderTopWidth"),b=jQuery(this).parents(".ui-slider-tooltip").css("backgroundColor");jQuery(this).css("border-top",a+" solid "+b)});var p=j.slider("values");return g(p)?jQuery(p).each(function(a){j.find(".ui-slider-tooltip .ttContent").eq(a).text(h(this))}):j.find(".ui-slider-tooltip .ttContent").eq(0).text(h(p)),this},$(function(){var a=[];$("button[rel]").each(function(b){$(this).overlay({oneInstance:!1,closeOnClick:!0,finish:a[b]})})}),function(a){a.fn.tipTip=function(b){var c={maxWidth:"300px",edgeOffset:3,delay:600,fadeIn:300,fadeOut:300,enter:function(){},exit:function(){}},d=a.extend(c,b);if(a("#tiptip_holder").length<=0){var e=a('<div id="tiptip_holder" style="max-width:'+d.maxWidth+';"></div>'),f=a('<div id="tiptip_content"></div>'),g=a('<div id="tiptip_arrow"></div>');a("body").append(e.html(f).prepend(g.html('<div id="tiptip_arrow_inner"></div>')))}else var e=a("#tiptip_holder"),f=a("#tiptip_content"),g=a("#tiptip_arrow");return this.each(function(){var b=a(this),c=b.attr("title");if(c!=""){b.removeAttr("title");var h=!1;b.hover(function(){d.enter.call(this),f.html(c),e.hide().removeAttr("class").css("margin","0"),g.removeAttr("style");var i=parseInt(b.offset().top),j=parseInt(b.offset().left),k=parseInt(b.outerWidth()),l=parseInt(b.outerHeight()),m=e.outerWidth(),n=e.outerHeight(),o=Math.round((k-m)/2),p=Math.round((l-n)/2),q=Math.round(j+o),r=Math.round(i+l+d.edgeOffset),s="",t="",u=Math.round(m-12)/2;o<0&&(o+j<parseInt(a(window).scrollLeft())?(s="_right",t=Math.round(n-13)/2,u=-12,q=Math.round(j+k+d.edgeOffset),r=Math.round(i+p)):m+j>parseInt(a(window).width())&&(s="_left",t=Math.round(n-13)/2,u=Math.round(m),q=Math.round(j-(m+d.edgeOffset+5)),r=Math.round(i+p)));if(i+l+d.edgeOffset+n+8>parseInt(a(window).height()+a(window).scrollTop()))s+="_top",t=n,r=Math.round(i-(n+5+d.edgeOffset));else if(i+l-(d.edgeOffset+n)<0||s=="")s+="_bottom",t=-12,r=Math.round(i+l+d.edgeOffset);if(s=="_right_top"||s=="_left_top")r+=5;else if(s=="_right_bottom"||s=="_left_bottom")r-=5;if(s=="_left_top"||s=="_left_bottom")q+=5;g.css({"margin-left":u+"px","margin-top":t+"px"}),e.css({"margin-left":q+"px","margin-top":r+"px"}).attr("class","tip"+s),h&&clearTimeout(h),h=setTimeout(function(){e.stop(!0,!0).fadeIn(d.fadeIn)},d.delay)},function(){d.exit.call(this),h&&clearTimeout(h),e.fadeOut(d.fadeOut)})}})}}(jQuery),function(a){var b,c,d,e;a.extend({pnotify_remove_all:function(){var b=d.data("pnotify");b&&b.length&&a.each(b,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){c&&clearTimeout(c),c=null;var b=d.data("pnotify");b&&b.length&&(a.each(b,function(){var a=this.opts.pnotify_stack;if(a){a.nextpos1||(a.nextpos1=a.firstpos1),a.nextpos2||(a.nextpos2=a.firstpos2),a.addpos2||(a.addpos2=0);if(this.css("display")!="none"){var b,c,d={},f;switch(a.dir1){case"down":f="top";break;case"up":f="bottom";break;case"left":f="right";break;case"right":f="left"}b=parseInt(this.css(f)),isNaN(b)&&(b=0),typeof a.firstpos1=="undefined"&&(a.firstpos1=b,a.nextpos1=a.firstpos1);var g;switch(a.dir2){case"down":g="top";break;case"up":g="bottom";break;case"left":g="right";break;case"right":g="left"}c=parseInt(this.css(g)),isNaN(c)&&(c=0),typeof a.firstpos2=="undefined"&&(a.firstpos2=c,a.nextpos2=a.firstpos2);if(a.dir1=="down"&&a.nextpos1+this.height()>e.height()||a.dir1=="up"&&a.nextpos1+this.height()>e.height()||a.dir1=="left"&&a.nextpos1+this.width()>e.width()||a.dir1=="right"&&a.nextpos1+this.width()>e.width())a.nextpos1=a.firstpos1,a.nextpos2+=a.addpos2+10,a.addpos2=0;if(a.animation&&a.nextpos2<c)switch(a.dir2){case"down":d.top=a.nextpos2+"px";break;case"up":d.bottom=a.nextpos2+"px";break;case"left":d.right=a.nextpos2+"px";break;case"right":d.left=a.nextpos2+"px"}else this.css(g,a.nextpos2+"px");switch(a.dir2){case"down":case"up":this.outerHeight(!0)>a.addpos2&&(a.addpos2=this.height());break;case"left":case"right":this.outerWidth(!0)>a.addpos2&&(a.addpos2=this.width())}if(a.nextpos1)if(a.animation&&(b>a.nextpos1||d.top||d.bottom||d.right||d.left))switch(a.dir1){case"down":d.top=a.nextpos1+"px";break;case"up":d.bottom=a.nextpos1+"px";break;case"left":d.right=a.nextpos1+"px";break;case"right":d.left=a.nextpos1+"px"}else this.css(f,a.nextpos1+"px");(d.top||d.bottom||d.right||d.left)&&this.animate(d,{duration:500,queue:!1});switch(a.dir1){case"down":case"up":a.nextpos1+=this.height()+10;break;case"left":case"right":a.nextpos1+=this.width()+10}}}}),a.each(b,function(){var a=this.opts.pnotify_stack;a&&(a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0)}))},pnotify:function(f){d||(d=a("body")),e||(e=a(window));var g,h;typeof f!="object"?(h=a.extend({},a.pnotify.defaults),h.pnotify_text=f):h=a.extend({},a.pnotify.defaults,f);if(h.pnotify_before_init&&h.pnotify_before_init(h)===!1)return null;var i,l=function(b,c){o.css("display","none");var d=document.elementFromPoint(b.clientX,b.clientY);o.css("display","block");var e=a(d),f=e.css("cursor");o.css("cursor",f!="auto"?f:"default");if(!i||i.get(0)!=d)i&&(j.call(i.get(0),"mouseleave",b.originalEvent),j.call(i.get(0),"mouseout",b.originalEvent)),j.call(d,"mouseenter",b.originalEvent),j.call(d,"mouseover",b.originalEvent);j.call(d,c,b.originalEvent),i=e},o=a("<div />",{"class":"ui-pnotify "+h.pnotify_addclass,css:{display:"none"},mouseenter:function(a){h.pnotify_nonblock&&a.stopPropagation(),h.pnotify_mouse_reset&&g=="out"&&(o.stop(!0),g="in",o.css("height","auto").animate({width:h.pnotify_width,opacity:h.pnotify_nonblock?h.pnotify_nonblock_opacity:h.pnotify_opacity},"fast")),h.pnotify_nonblock&&o.animate({opacity:h.pnotify_nonblock_opacity},"fast"),h.pnotify_hide&&h.pnotify_mouse_reset&&o.pnotify_cancel_remove(),h.pnotify_closer&&!h.pnotify_nonblock&&o.closer.show()},mouseleave:function(b){h.pnotify_nonblock&&b.stopPropagation(),i=null,o.css("cursor","auto"),h.pnotify_nonblock&&g!="out"&&o.animate({opacity:h.pnotify_opacity},"fast"),h.pnotify_hide&&h.pnotify_mouse_reset&&o.pnotify_queue_remove(),o.closer.hide(),a.pnotify_position_all()},mouseover:function(a){h.pnotify_nonblock&&a.stopPropagation()},mouseout:function(a){h.pnotify_nonblock&&a.stopPropagation()},mousemove:function(a){h.pnotify_nonblock&&(a.stopPropagation(),l(a,"onmousemove"))},mousedown:function(a){h.pnotify_nonblock&&(a.stopPropagation(),a.preventDefault(),l(a,"onmousedown"))},mouseup:function(a){h.pnotify_nonblock&&(a.stopPropagation(),a.preventDefault(),l(a,"onmouseup"))},click:function(a){h.pnotify_nonblock&&(a.stopPropagation(),l(a,"onclick"))},dblclick:function(a){h.pnotify_nonblock&&(a.stopPropagation(),l(a,"ondblclick"))}});o.opts=h,h.pnotify_shadow&&!a.browser.msie&&(o.shadow_container=a("<div />",{"class":"ui-widget-shadow ui-corner-all ui-pnotify-shadow"}).prependTo(o)),o.container=a("<div />",{"class":"ui-widget ui-widget-content ui-corner-all ui-pnotify-container "+(h.pnotify_type=="error"?"ui-state-error":"ui-state-highlight")}).appendTo(o),o.pnotify_version="1.0.1",o.pnotify=function(b){var c=h;typeof b=="string"?h.pnotify_text=b:h=a.extend({},h,b),o.opts=h,h.pnotify_shadow!=c.pnotify_shadow&&(h.pnotify_shadow&&!a.browser.msie?o.shadow_container=a("<div />",{"class":"ui-widget-shadow ui-pnotify-shadow"}).prependTo(o):o.children(".ui-pnotify-shadow").remove()),h.pnotify_addclass===!1?o.removeClass(c.pnotify_addclass):h.pnotify_addclass!==c.pnotify_addclass&&o.removeClass(c.pnotify_addclass).addClass(h.pnotify_addclass),h.pnotify_title===!1?o.title_container.hide("fast"):h.pnotify_title!==c.pnotify_title&&o.title_container.html(h.pnotify_title).show(200),h.pnotify_text===!1?o.text_container.hide("fast"):h.pnotify_text!==c.pnotify_text&&(h.pnotify_insert_brs&&(h.pnotify_text=h.pnotify_text.replace(/\n/g,"<br />")),o.text_container.html(h.pnotify_text).show(200)),o.pnotify_history=h.pnotify_history,h.pnotify_type!=c.pnotify_type&&o.container.toggleClass("ui-state-error ui-state-highlight");if(h.pnotify_notice_icon!=c.pnotify_notice_icon&&h.pnotify_type=="notice"||h.pnotify_error_icon!=c.pnotify_error_icon&&h.pnotify_type=="error"||h.pnotify_type!=c.pnotify_type)o.container.find("div.ui-pnotify-icon").remove(),(h.pnotify_error_icon&&h.pnotify_type=="error"||h.pnotify_notice_icon)&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":h.pnotify_type=="error"?h.pnotify_error_icon:h.pnotify_notice_icon})).prependTo(o.container);return h.pnotify_width!==c.pnotify_width&&o.animate({width:h.pnotify_width}),h.pnotify_min_height!==c.pnotify_min_height&&o.container.animate({minHeight:h.pnotify_min_height}),h.pnotify_opacity!==c.pnotify_opacity&&o.fadeTo(h.pnotify_animate_speed,h.pnotify_opacity),h.pnotify_hide?c.pnotify_hide||o.pnotify_queue_remove():o.pnotify_cancel_remove(),o.pnotify_queue_position(),o},o.pnotify_queue_position=function(){c&&clearTimeout(c),c=setTimeout(a.pnotify_position_all,10)},o.pnotify_display=function(){o.parent().length||o.appendTo(d);if(h.pnotify_before_open&&h.pnotify_before_open(o)===!1)return;o.pnotify_queue_position(),h.pnotify_animation=="fade"||h.pnotify_animation.effect_in=="fade"?o.show().fadeTo(0,0).hide():h.pnotify_opacity!=1&&o.show().fadeTo(0,h.pnotify_opacity).hide(),o.animate_in(function(){h.pnotify_after_open&&h.pnotify_after_open(o),o.pnotify_queue_position(),h.pnotify_hide&&o.pnotify_queue_remove()})},o.pnotify_remove=function(){o.timer&&(window.clearTimeout(o.timer),o.timer=null);if(h.pnotify_before_close&&h.pnotify_before_close(o)===!1)return;o.animate_out(function(){if(h.pnotify_after_close&&h.pnotify_after_close(o)===!1)return;o.pnotify_queue_position(),h.pnotify_remove&&o.detach()})},o.animate_in=function(a){g="in";var b;b=typeof h.pnotify_animation.effect_in!="undefined"?h.pnotify_animation.effect_in:h.pnotify_animation,b=="none"?(o.show(),a()):b=="show"?o.show(h.pnotify_animate_speed,a):b=="fade"?o.show().fadeTo(h.pnotify_animate_speed,h.pnotify_opacity,a):b=="slide"?o.slideDown(h.pnotify_animate_speed,a):typeof b=="function"?b("in",a,o):o.effect&&o.effect(b,{},h.pnotify_animate_speed,a)},o.animate_out=function(a){g="out";var b;b=typeof h.pnotify_animation.effect_out!="undefined"?h.pnotify_animation.effect_out:h.pnotify_animation,b=="none"?(o.hide(),a()):b=="show"?o.hide(h.pnotify_animate_speed,a):b=="fade"?o.fadeOut(h.pnotify_animate_speed,a):b=="slide"?o.slideUp(h.pnotify_animate_speed,a):typeof b=="function"?b("out",a,o):o.effect&&o.effect(b,{},h.pnotify_animate_speed,a)},o.pnotify_cancel_remove=function(){o.timer&&window.clearTimeout(o.timer)},o.pnotify_queue_remove=function(){o.pnotify_cancel_remove(),o.timer=window.setTimeout(function(){o.pnotify_remove()},isNaN(h.pnotify_delay)?0:h.pnotify_delay)},o.closer=a("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",display:"none"
},click:function(){o.pnotify_remove(),o.closer.hide()}}).append(a("<span />",{"class":"ui-icon ui-icon-circle-close"})).appendTo(o.container),(h.pnotify_error_icon&&h.pnotify_type=="error"||h.pnotify_notice_icon)&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":h.pnotify_type=="error"?h.pnotify_error_icon:h.pnotify_notice_icon})).appendTo(o.container),o.title_container=a("<div />",{"class":"ui-pnotify-title",html:h.pnotify_title}).appendTo(o.container),h.pnotify_title===!1&&o.title_container.hide(),h.pnotify_insert_brs&&typeof h.pnotify_text=="string"&&(h.pnotify_text=h.pnotify_text.replace(/\n/g,"<br />")),o.text_container=a("<div />",{"class":"ui-pnotify-text",html:h.pnotify_text}).appendTo(o.container),h.pnotify_text===!1&&o.text_container.hide(),typeof h.pnotify_width=="string"&&o.css("width",h.pnotify_width),typeof h.pnotify_min_height=="string"&&o.container.css("min-height",h.pnotify_min_height),o.pnotify_history=h.pnotify_history;var r=d.data("pnotify");if(r==null||typeof r!="object")r=[];r=h.pnotify_stack.push=="top"?a.merge([o],r):a.merge(r,[o]),d.data("pnotify",r),h.pnotify_after_init&&h.pnotify_after_init(o);if(h.pnotify_history){var s=d.data("pnotify_history");typeof s=="undefined"&&(s=a("<div />",{"class":"ui-pnotify-history-container ui-state-default ui-corner-bottom",mouseleave:function(){s.animate({top:"-"+b+"px"},{duration:100,queue:!1})}}).append(a("<div />",{"class":"ui-pnotify-history-header",text:"Redisplay"})).append(a("<button />",{"class":"ui-pnotify-history-all ui-state-default ui-corner-all",text:"All",mouseenter:function(){a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},click:function(){return a.each(r,function(){this.pnotify_history&&this.pnotify_display&&this.pnotify_display()}),!1}})).append(a("<button />",{"class":"ui-pnotify-history-last ui-state-default ui-corner-all",text:"Last",mouseenter:function(){a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},click:function(){for(var a=1;!r[r.length-a]||!r[r.length-a].pnotify_history||r[r.length-a].is(":visible");){if(r.length-a===0)return!1;a++}return a=r[r.length-a],a.pnotify_display&&a.pnotify_display(),!1}})).appendTo(d),b=a("<span />",{"class":"ui-pnotify-history-pulldown ui-icon ui-icon-grip-dotted-horizontal",mouseenter:function(){s.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(s).offset().top+2,s.css({top:"-"+b+"px"}),d.data("pnotify_history",s))}return h.pnotify_stack.animation=!1,o.pnotify_display(),o}});var f=/^on/,g=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,h=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,i=/^(scroll|resize|(un)?load|abort|error)$/,j=function(b,c){var d;b=b.toLowerCase(),document.createEvent&&this.dispatchEvent?(b=b.replace(f,""),b.match(g)?(a(this).offset(),d=document.createEvent("MouseEvents"),d.initMouseEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)):b.match(h)?(d=document.createEvent("UIEvents"),d.initUIEvent(b,c.bubbles,c.cancelable,c.view,c.detail)):b.match(i)&&(d=document.createEvent("HTMLEvents"),d.initEvent(b,c.bubbles,c.cancelable)),d&&this.dispatchEvent(d)):(b.match(f)||(b="on"+b),d=document.createEventObject(c),this.fireEvent(b,d))};a.pnotify.defaults={pnotify_title:!1,pnotify_text:!1,pnotify_addclass:"",pnotify_nonblock:!1,pnotify_nonblock_opacity:.2,pnotify_history:!0,pnotify_width:"300px",pnotify_min_height:"16px",pnotify_type:"notice",pnotify_notice_icon:"ui-icon ui-icon-info",pnotify_error_icon:"ui-icon ui-icon-alert",pnotify_animation:"fade",pnotify_animate_speed:"slow",pnotify_opacity:1,pnotify_shadow:!1,pnotify_closer:!0,pnotify_hide:!0,pnotify_delay:8e3,pnotify_mouse_reset:!0,pnotify_remove:!0,pnotify_insert_brs:!0,pnotify_stack:{dir1:"down",dir2:"left",push:"bottom"}}}(jQuery);