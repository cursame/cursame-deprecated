Ext.define("Cursame.view.notifications.NavigationView",{extend:"Ext.navigation.View",xtype:"notificationnavigationview",requires:["Cursame.view.notifications.NotificationsList","Cursame.view.courses.CourseWall","Cursame.view.comments.CommentWall"],config:{items:{xtype:"notificationslist",title:lang.notifications}},applyLayout:function(a){a=a||{};if(Ext.os.is.Android){a.animation=false}return a}});Ext.define("Cursame.view.notifications.NotificationListItem",{extend:"Ext.dataview.component.DataItem",xtype:"notificationlistitem",requieres:["Ext.Img"],config:{ui:"notification",dataMap:{getUser:{setHtml:"user"},getText:{setHtml:"text"},getAvatar:{setScr:"avatar"},getCreated:{setHtml:"created"},getDeclineButton:{setHidden:"btn"},getAcceptButton:{setHidden:"btn"}},user:{cls:"user",},text:{cls:"text"},avatar:{docked:"left",cls:"avatar",height:48,width:48,src:Cursame.src+"resources/images/avatar_normal.png"},declineButton:{docked:"right",iconMask:true,cls:"c-button",margin:"10 0 0 3",iconCls:"delete",ui:"decline",accept:false},acceptButton:{docked:"right",iconMask:true,cls:"c-button",margin:"10 0 0 3",iconCls:"check1",ui:"small",accept:true},created:{cls:"time-ago"},layout:{type:"vbox"}},applyUser:function(a){return Ext.factory(a,Ext.Component,this.getUser())},updateUser:function(a){if(a){this.insert(0,a)}},applyText:function(a){return Ext.factory(a,Ext.Component,this.getText())},updateText:function(a){if(a){this.add(a)}},applyAvatar:function(a){return Ext.factory(a,Ext.Img,this.getAvatar())},updateAvatar:function(a){if(a){this.add(a)}},applyDeclineButton:function(a){return Ext.factory(a,Ext.Button,this.getDeclineButton())},updateDeclineButton:function(a){if(a){this.add(a)}},applyAcceptButton:function(a){return Ext.factory(a,Ext.Button,this.getAcceptButton())},updateAcceptButton:function(a){if(a){this.add(a)}},applyCreated:function(a){return Ext.factory(a,Ext.Component,this.getCreated())},updateCreated:function(a){if(a){this.add(a)}}});Ext.define("Cursame.view.notifications.NotificationsList",{extend:"Ext.dataview.DataView",xtype:"notificationslist",requires:["Cursame.view.notifications.NotificationListItem","Ext.plugin.PullRefresh","Ext.plugin.ListPaging"],config:{ui:"notification",defaultType:"notificationlistitem",store:"Notifications",allowDeselect:false,useComponents:true,emptyText:"Nothing found.",plugins:["pullrefresh",{type:"listpaging",autoPaging:true}]}});